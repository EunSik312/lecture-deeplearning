## ğŸ“Š mAP ê·¸ë˜í”„

### âœ… ì •ì˜

\*\*mAP(mean Average Precision)\*\*ëŠ” ê°ì²´ íƒì§€ì—ì„œ **ì˜ˆì¸¡ì´ ì–¼ë§ˆë‚˜ ì •í™•í•œì§€**ë¥¼ ìˆ˜ì¹˜ë¡œ ë‚˜íƒ€ë‚¸ë‹¤.

* **AP (Average Precision)**: í•œ í´ë˜ìŠ¤ì— ëŒ€í•´ precision-recall ê³¡ì„ ì˜ ë©´ì 
* **mAP**: ëª¨ë“  í´ë˜ìŠ¤ì˜ AP í‰ê· ê°’

> ì˜ˆ: 3ê°œì˜ í´ë˜ìŠ¤ê°€ ìˆë‹¤ë©´
> `mAP = (AP_class1 + AP_class2 + AP_class3) / 3`

---

## ğŸ“ˆ mAP ê´€ë ¨ ê·¸ë˜í”„ ì¢…ë¥˜

| ê·¸ë˜í”„                         | ì„¤ëª…                                               |
| --------------------------- | ------------------------------------------------ |
| **Precision-Recall Curve**  | ë‹¤ì–‘í•œ confidence thresholdì—ì„œ precisionê³¼ recallì˜ ê´€ê³„ |
| **mAP vs Epoch**            | í›ˆë ¨ ì¤‘ mAP ì„±ëŠ¥ì´ ì–´ë–»ê²Œ ë³€í™”í•˜ëŠ”ì§€ ì‹œê°í™”                       |
| **Class-wise AP bar chart** | ê° í´ë˜ìŠ¤ë³„ Average Precision í‘œì‹œ                      |
| **IoU vs mAP**              | IoU(êµì°¨/í•© ë¹„ìœ¨)ê°€ ë†’ì•„ì§ˆìˆ˜ë¡ mAPì´ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ ë³´ì—¬ì¤Œ            |

---

### ğŸ” ì˜ˆì‹œ: PR Curve (Precision-Recall)

![ì˜ˆì‹œ: PR ê³¡ì„ ](https://raw.githubusercontent.com/ultralytics/yolov5/master/docs/images/pr_curve.png)

* ë¹¨ê°„ìƒ‰: precision â†‘
* íŒŒë€ìƒ‰: recall â†‘
  ê³¡ì„  ì•„ë˜ ë©´ì ì´ í´ìˆ˜ë¡ APê°€ ë†’ê³ , ê²°êµ­ mAPë„ ë†’ìŒ.

---

## ğŸ§ª YOLO í›ˆë ¨ ì‹œ mAP ê·¸ë˜í”„ í™•ì¸ ë°©ë²•

Ultralytics YOLO (`v8~v12`)ë¡œ ëª¨ë¸ í›ˆë ¨ ì‹œ, ìë™ìœ¼ë¡œ ì„±ëŠ¥ ê·¸ë˜í”„ë¨.

```bash
runs/detect/train/  # ë‚´ë¶€ì— ë‹¤ìŒê³¼ ê°™ì€ ê·¸ë˜í”„ ìˆìŒ:
â”œâ”€â”€ results.png       # Loss, mAP, Precision ë“± ì¢…í•© ê·¸ë˜í”„
â”œâ”€â”€ PR_curve.png      # PR ì»¤ë¸Œ
â”œâ”€â”€ F1_curve.png      # F1-score ê³¡ì„ 
â”œâ”€â”€ confusion_matrix.png  # í˜¼ë™ í–‰ë ¬
```

ë˜ëŠ” ì½”ë“œì—ì„œ ì§ì ‘ í™•ì¸:

```python
from IPython.display import Image
Image(filename='runs/detect/train/results.png')
```

---

## âœ… ìš”ì•½

| í•­ëª©             | ì„¤ëª…                                |
| -------------- | --------------------------------- |
| **mAP**        | ê°ì²´ íƒì§€ ì •í™•ë„ì˜ ëŒ€í‘œì ì¸ ì„±ëŠ¥ ì§€í‘œ             |
| **mAP ê·¸ë˜í”„ ì¢…ë¥˜** | PR ê³¡ì„ , epoch ë³€í™” ê·¸ë˜í”„, í´ë˜ìŠ¤ë³„ ë§‰ëŒ€ê·¸ë˜í”„ ë“± |
| **ë†’ì„ìˆ˜ë¡ ì¢‹ì€ ê°’**  | ë³´í†µ 0.5 ì´ìƒì´ë©´ ì–‘í˜¸, 0.7 ì´ìƒì´ë©´ ë§¤ìš° ìš°ìˆ˜    |
| **ìë™ ìƒì„± ìœ„ì¹˜**   | `runs/detect/train/` í´ë” ë‚´ ê·¸ë˜í”„ íŒŒì¼ë“¤ |

---


## ğŸ“ mAP ê·¸ë˜í”„ ì €ì¥ ìœ„ì¹˜

### âœ… ê¸°ë³¸ ê²½ë¡œ (Ultralytics ê¸°ì¤€)

```bash
runs/detect/train/
```

ì´ í´ë”ëŠ” í›ˆë ¨ì´ ëë‚˜ë©´ ìë™ìœ¼ë¡œ ìƒì„±, ë‚´ë¶€ì— ë‹¤ì–‘í•œ ê·¸ë˜í”„ì™€ ë¡œê·¸ê°€ í¬í•¨.

---

### ğŸ“„ ì£¼ìš” íŒŒì¼ë“¤

| íŒŒì¼ ì´ë¦„                      | ë‚´ìš©                                           |
| -------------------------- | -------------------------------------------- |
| **`results.png`**          | í›ˆë ¨ ê³¼ì •ì—ì„œì˜ mAP, precision, recall, loss ë³€í™” ê·¸ë˜í”„ |
| **`PR_curve.png`**         | í´ë˜ìŠ¤ë³„ Precision-Recall ê³¡ì„  (mAPê³¼ ì§ê²°)           |
| **`F1_curve.png`**         | F1 ì ìˆ˜ ë³€í™” (ì •í™•ë„ì™€ ì¬í˜„ìœ¨ì˜ ì¡°í™” í‰ê· )                   |
| **`confusion_matrix.png`** | í´ë˜ìŠ¤ë³„ ì •ì˜¤ë¶„ë¥˜ í–‰ë ¬                                 |
| **`metrics/` í´ë”**          | mAP ìˆ˜ì¹˜ ë° ê·¸ë˜í”„ì˜ ì›ì²œ ë°ì´í„° (`.npy` íŒŒì¼ ë“±)           |

---

### ğŸ“ ê·¸ë˜í”„ ì˜ˆì‹œ ë³´ê¸° (Colab/Python)

```python
from IPython.display import Image

# ì¢…í•© ê²°ê³¼ ê·¸ë˜í”„ ë³´ê¸°
Image(filename='runs/detect/train/results.png')

# PR ì»¤ë¸Œ ë³´ê¸° (ì •ë°€ë„-ì¬í˜„ìœ¨)
Image(filename='runs/detect/train/PR_curve.png')
```

---

## ğŸ§ª mAP ìˆ˜ì¹˜ ì§ì ‘ ë³´ê¸°

```python
results = model.train(data='your_data.yaml', epochs=50)

# í›ˆë ¨ í›„ mAP ê°’ ì¶œë ¥
print(results.metrics)  # or results.results_dict
```

ë˜ëŠ” í„°ë¯¸ë„ ë¡œê·¸ ë§ˆì§€ë§‰ ì¤„ì„ ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ì •ë³´ ë‚˜ì˜´:

```
metrics/precision, recall, mAP50, mAP50-95: 0.89, 0.85, 0.92, 0.65
```

* `mAP50`: IoU â‰¥ 0.5 ê¸°ì¤€ì˜ ì •í™•ë„
* `mAP50-95`: IoU 0.5\~0.95 í‰ê·  â†’ **ì •ë°€ ì„±ëŠ¥ì§€í‘œ**

---

## ğŸ” ê²°ê³¼ í´ë” ì˜ˆì‹œ êµ¬ì¡°

```bash
runs/detect/train/
â”œâ”€â”€ weights/
â”‚   â”œâ”€â”€ best.pt
â”‚   â””â”€â”€ last.pt
â”œâ”€â”€ results.png              âœ… â† mAP ê·¸ë˜í”„ í¬í•¨
â”œâ”€â”€ PR_curve.png             âœ… â† í´ë˜ìŠ¤ë³„ PR ê³¡ì„ 
â”œâ”€â”€ confusion_matrix.png     âœ…
â”œâ”€â”€ F1_curve.png
â”œâ”€â”€ opt.yaml                 # í›ˆë ¨ ì˜µì…˜ ê¸°ë¡
â”œâ”€â”€ results.csv              # ì •ëŸ‰ ë°ì´í„°
â””â”€â”€ metrics/
```

---

## âœ… ìš”ì•½

| í™•ì¸ ë°©ë²•             | ì„¤ëª…                           |
| ----------------- | ---------------------------- |
| `results.png`     | mAP, precision, loss ë“±ì´ í•œ ëˆˆì— |
| `PR_curve.png`    | í´ë˜ìŠ¤ë³„ ì •í™•ë„/ì¬í˜„ìœ¨ ì»¤ë¸Œ              |
| `results.metrics` | ì½”ë“œë¡œ ì§ì ‘ ìˆ˜ì¹˜ ë³´ê¸°                 |
| ìœ„ì¹˜                | `runs/detect/train/` í´ë”      |

---
